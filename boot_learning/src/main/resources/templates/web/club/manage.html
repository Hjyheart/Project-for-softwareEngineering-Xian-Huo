<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title th:text="${clubId}"></title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.0-rc.2/angular.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" th:href="@{/Semantic-UI/semantic.min.css}"/>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
    <script type="text/javascript" th:src="@{/Semantic-UI/jquery-3.1.1.min.js}"/>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" th:src="@{/Semantic-UI/semantic.min.js}"/>
    <script type="text/javascript" th:src="@{/Semantic-UI/floatingNav.js}"/>

    <script type="text/javascript" th:src="@{/web/ng-controller/app.js}"/>
    <script type="text/javascript" th:src="@{/web/ng-controller/club/club-manageCtrl.js}"/>
    <script type="text/javascript" th:src="@{/web/ng-controller/service/const.service.js}"/>
</head>
<div class="transition hidden" id="clubId" th:text="${id}"></div>
<body class="pushable" ng-app="myApp" ng-controller="club-manageCtrl">
    <style>
        .ui.vertical.masthead.center.aligned.segment{
            background-image: url({{club.mImgUrl}});
            background-size: 100% 100%;
            background-repeat: no-repeat;
        }
    </style>
    <div th:include="web/nav/navbar-floating :: navbar-floating"></div>
    <div class="pusher">
        <div class="ui vertical masthead center aligned segment">
            <div ng-if="!isLogin">
                <div th:include="web/nav/navbar-public :: navbar-public"></div>
            </div>
            <div ng-if="isLogin">
                <div th:include="web/nav/navbar-personal :: navbar-personal"></div>
            </div>
            <div class="ui text container">
                <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
                <h1 class="ui inverted header">
                    {{club.mName}}
                </h1>
                <h1>{{club.mDescription}}</h1>
                <br/><br/><br/><br/><br/><br/><br/><br/><br/>
                <i class="down arrow icon"></i>
            </div>
        </div>

        <div class="ui stripe theming vertical segment">
            <div class="ui aligned stackable grid container">
                <div class="row">
                    <div class="six wide column">
                        <!--左侧图片和基本资料 用卡片-->
                        <div class="ui special cards">
                            <div class="card">
                                <div class="blurring dimmable image">
                                    <div class="ui dimmer">
                                        <div class="content">
                                            <div class="center">
                                                <div class="ui inverted button" ng-click="changeHead()">更换封面照片</div>
                                            </div>
                                        </div>
                                    </div>
                                    <img src="{{club.mImgUrl}}"/>
                                </div>
                                <div class="content">
                                    <a class="ui orange right ribbon label" ng-click="editbasicinfo()"><i class="write icon"></i>编辑</a>
                                    <a class="header">{{club.mName}}</a>
                                    <div class="meta">
                                        <span class="date">{{club.content}}</span>
                                    </div>
                                </div>
                                <div class="extra content">
                                    <a><i class="users icon"></i> {{clubNum}} 社员 </a>
                                </div>
                            </div>
                        </div>
                        <br/>
                        <br/>
                        <!--三个按钮-->
                        <div class="ui vertical buttons">
                            <div class="ui basic green button" ng-click="addActivity()" >添加活动</div>
                            <div class="ui basic blue button" ng-click="applyForPosterArea()">申请场地</div>
                            <div class="ui basic red button" ng-click="sendMessage()">短信通知</div>
                        </div>

                    </div>

                    <div class="ten wide column">
                        <!--资源区-->
                        <div class="ui top attached tabular menu">
                            <div class="active item" ng-click="showSource()" id="first">资源区</div>
                            <div class="item" ng-click="showActivity()" id="second">活动</div>
                            <div class="item" ng-click="showStudent()" id="three">学生</div>
                        </div>

                        <div class="ui bottom attached active tab segment" id="source">
                            <form class="ui action input" id="upload-form" enctype="multipart/form-data">
                                <input type="file" id="file"/>
                                <button class="ui teal right labeled icon button" ng-click="uploadFile()"><i class="file icon"></i> 上传 </button>
                            </form>
                            <div class="ui relaxed divided list">
                                <div class="item" ng-repeat="file in club.files">
                                    <i class="large file middle aligned icon"></i>
                                    <div class="content">
                                        <a class="header" href="{{file.mUrl}}">{{file.mName}}</a>
                                    </div>
                                    <button class="ui red right floated button" ng-click="deleteFile(file)">删除</button>
                                </div>
                            </div>
                        </div>
                        <div class="ui bottom attached tab segment" id="activity">
                            <div class="ui divided items">
                                <div class="item" ng-repeat="activity in club.activity">
                                    <div class="image">
                                        <img src="{{activity.mImgUrl}}"/>
                                    </div>
                                    <div class="content">
                                        <a class="header">{{activity.mName}}</a>
                                        <div class="meta">
                                            <span class="cinema">
                                                {{activity.time}}
                                            </span>
                                        </div>
                                        <div class="meta">
                                            <span class="cinema">{{activity.mLocation}}</span>
                                        </div>
                                        <div class="description">
                                            <p>{{activity.mDescription}}</p>
                                        </div>
                                        <div class="extra">
                                            <div class="ui right floated vertical buttons">
                                                <div class="ui basic green button" ng-click="toActivity(activity)">详情 </div>
                                                <div class="ui basic red button" ng-click="deleteActivity(activity)">删除 </div>
                                                <div class="ui basic blue button" ng-click="inform(activity)">通知 </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ui bottom attached tab segment" id="student">
                            <table class="ui very basic celled table">
                                <thead>
                                    <tr>
                                        <th>姓名</th>
                                        <th>联系方式</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="student in club.students">
                                        <td>
                                            <h4 class="ui image header">
                                                <img src="{{student.mHeadUrl}}" class="ui mini rounded image"/>
                                                <div class="content">{{student.mName}} <div class="sub header">{{student.mId}} </div>
                                                </div>
                                            </h4>
                                        </td>
                                        <td>
                                            {{student.mContact}}
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>

            </div>
        </div>
        <div th:include="web/footer :: footer"></div>
    </div>

    <div class="ui modal" id="change-head">
        <i class="close icon"></i>
        <div class="header">
            更换头像
        </div>
        <div class="content">
            <form class="ui form" enctype="multipart/form-data">
                <input type="file" name="head-file" id="head-file"/>
            </form>
        </div>
        <div class="actions">
            <div class="ui black deny button">取消</div>
            <div class="ui positive approve labeled icon button">
                确定
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>

    <div class="ui modal" id="edit-basic">
        <i class="close icon"></i>
        <div class="header">
            编辑基本信息
        </div>
        <div class="content">
            <form class="ui form">
                <div class="field">
                    <label>社团名称</label>
                    <input type="text" placeholder="{{club.mName}}" id="club-new-name" />
                </div>
                <div class="field">
                    <label>简述</label>
                    <input type="text" placeholder="{{club.mDescription}}" id="club-new-des" />
                </div>
            </form>
        </div>
        <div class="actions">
            <div class="ui black deny button">取消</div>
            <div class="ui positive approve labeled icon button">
                确定
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>

    <div class="ui modal" id="add-activity">
        <i class="close icon"></i>
        <div class="header">
            添加活动
        </div>
        <div class="content">
            <form class="ui form" enctype="multipart/form-data">
                <div class="ui field">
                    <label>活动名</label>
                    <input type="text" id="activity-name" placeholder="活动名称" />
                </div>
                <div class="ui field">
                    <label>地点</label>
                    <input type="text" id="activity-location" placeholder="地点"/>
                </div>
                <div class="ui field">
                    <label>时间</label>
                    <input type="text" id="activity-date"/>
                </div>
                <div class="ui two fields">
                    <div class="ui field">
                        <label>时</label>
                        <select class="ui fluid dropdown" id="hour">
                            <option value="00">0</option>
                            <option value="01">1</option>
                            <option value="02">2</option>
                            <option value="03">3</option>
                            <option value="04">4</option>
                            <option value="05">5</option>
                            <option value="06">6</option>
                            <option value="07">7</option>
                            <option value="08">8</option>
                            <option value="09">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                        </select>
                    </div>
                    <div class="ui field">
                        <label>分</label>
                        <select class="ui fluid dropdown" id="minute">
                            <option value="00">0</option>
                            <option value="01">1</option>
                            <option value="02">2</option>
                            <option value="03">3</option>
                            <option value="04">4</option>
                            <option value="05">5</option>
                            <option value="06">6</option>
                            <option value="07">7</option>
                            <option value="08">8</option>
                            <option value="09">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                            <option value="25">25</option>
                            <option value="26">26</option>
                            <option value="27">27</option>
                            <option value="28">28</option>
                            <option value="29">29</option>
                            <option value="30">30</option>
                            <option value="31">31</option>
                            <option value="32">32</option>
                            <option value="33">33</option>
                            <option value="34">34</option>
                            <option value="35">35</option>
                            <option value="36">36</option>
                            <option value="37">37</option>
                            <option value="38">38</option>
                            <option value="39">39</option>
                            <option value="40">40</option>
                            <option value="41">41</option>
                            <option value="42">42</option>
                            <option value="43">43</option>
                            <option value="44">44</option>
                            <option value="45">45</option>
                            <option value="46">46</option>
                            <option value="47">47</option>
                            <option value="48">48</option>
                            <option value="49">49</option>
                            <option value="50">50</option>
                            <option value="51">51</option>
                            <option value="52">52</option>
                            <option value="53">53</option>
                            <option value="54">54</option>
                            <option value="55">55</option>
                            <option value="56">56</option>
                            <option value="57">57</option>
                            <option value="58">58</option>
                            <option value="59">59</option>
                        </select>
                    </div>
                </div>
                <div class="ui field">
                    <label>联系电话</label>
                    <input type="text" id="activity-contact" placeholder="联系方式" />
                </div>
                <div class="ui field">
                    <label>描述</label>
                    <input type="text" id="activity-des" placeholder="描述" />
                </div>
                <div class="ui field">
                    <label>活动封面</label>
                    <input type="file" id="activity-cover" />
                </div>
            </form>
        </div>
        <div class="actions">
            <div class="ui black deny button">取消</div>
            <div class="ui positive approve labeled icon button">
                确定
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>

    <div class="ui modal" id="inform-success">
        <i class="close icon"></i>
        <div class="header">
            短信通知
        </div>
        <div class="content">
            成功通知所有成员!
        </div>
        <div class="actions">
            <div class="ui positive approve labeled icon button">
                确定
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>

</body>
<script>
    $( function() {
        $( "#activity-date" ).datepicker();
    } );
</script>
</html>